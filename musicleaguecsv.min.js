var songs=Array.from(document.getElementsByClassName("sticky-top")),texts=Array.from(document.getElementsByClassName("text-body-tertiary")),headers=Array.from(document.getElementsByClassName("card-title")),playlistInfo=[],round=texts[0].innerHTML.slice(6),roundNameHeader=songs[0].getElementsByTagName("h5"),roundName=headers[3].innerHTML;songs.slice(0).forEach(t=>{var e,n,r,a,s,o,l={round:round,roundName:'"'+roundName+'"',trackName:"",trackUrl:"",artist:"",album:"",submittedBy:"",votes:""},i=Array.from(t.getElementsByClassName("text-truncate")),m=0;i.forEach(t=>{var e=Array.from(t.children),n=t.closest(".mb-4").id.split(":");if(l.trackUrl='"https://open.spotify.com/track/'+n[2]+'"',0==m){var r=Array.from(t.parentElement.getElementsByClassName("text-end"));l.trackName='"'+e[0].innerHTML+'"',l.artist='"'+e[1].innerHTML+'"',l.album='"'+e[2].innerHTML+'"',l.votes=r[0].getElementsByClassName("m-0")[0].innerText}else 4==m&&(l.submittedBy='"'+e[0].innerHTML+'"');m++}),l.trackName.length>0&&playlistInfo.push(l)}),console.table(playlistInfo);var csvContent="\uFEFF";csvContent+="round,roundName,trackName,trackURL,artist,album,submittedBy,votes\r";for(var row=0;row<playlistInfo.length;row++)csvContent+=playlistInfo[row].round+",",csvContent+=playlistInfo[row].roundName+",",csvContent+=playlistInfo[row].trackName+",",csvContent+=playlistInfo[row].trackUrl+",",csvContent+=playlistInfo[row].artist+",",csvContent+=playlistInfo[row].album+",",csvContent+=playlistInfo[row].submittedBy+",",csvContent+=playlistInfo[row].votes+"\r";var blob=new Blob([csvContent],{type:"text/csv;charset=utf-8;"}),url=URL.createObjectURL(blob),link=document.createElement("a");link.href=url,link.setAttribute("download",roundName+".csv"),document.body.appendChild(link),link.click(),URL.revokeObjectURL(url);
